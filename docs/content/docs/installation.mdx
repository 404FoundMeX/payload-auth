---
title: Installation
description: How to install and configure payload-auth
---

# Installation

## Prerequisites

- Payload version `3.69.0` or higher
- Next.js version `15.1.6` or higher

## Install the package

```bash package-install
pnpm add payload-auth better-auth
```

## Configuration

Add the `betterAuthPlugin` to your Payload configuration:

```typescript title="payload.config.ts"
import { buildConfig } from 'payload/config'
import { betterAuthPlugin } from 'payload-auth'

export default buildConfig({
  // ... other config
  plugins: [
    betterAuthPlugin({
      betterAuthOptions: {
        // Better Auth options
        secret: process.env.BETTER_AUTH_SECRET,
      },
      // Plugin options
      users: {
        slug: 'users',
        roles: ['user', 'admin'],
        defaultRole: 'user',
        adminRoles: ['admin'],
      },
    }),
  ],
})
```

## Environment Variables

Ensure you have the following environment variables set:

```env
BETTER_AUTH_SECRET=your-secret-key
BETTER_AUTH_URL=http://localhost:3000 # or your production URL
```
